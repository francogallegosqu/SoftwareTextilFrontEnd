(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34db2404"],{"6d5e":function(t,e,r){"use strict";r("96ff")},"96ff":function(t,e,r){},f1ed:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header-slot",{scopedSlots:t._u([{key:"actions",fn:function(){return[r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:t.redirectToRegisterProduction}},[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"PlusCircleIcon"}}),t._v(" Agregar producción ")],1),r("b-button-group",{staticClass:"mr-2"},[r("b-button",{attrs:{variant:"table"==t.typeGridView?"primary":"outline-primary"},on:{click:function(e){return t.setGridView("table")}}},[r("feather-icon",{attrs:{icon:"GridIcon"}})],1),r("b-button",{attrs:{variant:"cards"==t.typeGridView?"primary":"outline-primary"},on:{click:function(e){return t.setGridView("cards")}}},[r("feather-icon",{attrs:{icon:"ColumnsIcon"}})],1)],1)]},proxy:!0}])}),r("b-card",{attrs:{"body-class":"px-0"}},["cards"==t.typeGridView?[r("b-container",[r("card-group-productions",{attrs:{productions:t.productions},on:{onUpdate:t.redirectToUpdateProduction,onViewDetails:t.redirectToViewDetails,onDelete:t.deleteProduction}})],1)]:t._e(),"table"==t.typeGridView?[r("table-productions",{attrs:{table:t.table,productions:t.productions},on:{onUpdate:t.redirectToUpdateProduction,onViewDetails:t.redirectToViewDetails,onDelete:t.deleteProduction}})]:t._e()],2)],1)},i=[],n=r("1da1"),a=r("5530"),c=(r("96cf"),r("2f62")),s=[{key:"nameProduction",label:"Producción"},{key:"quantityProduction",label:"Cantidad"},{key:"totalCostProduction",label:"Costo total"},{key:"created_at",label:"Creación"},{key:"actions",label:"Acciones"}],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card-group",{attrs:{columns:""}},t._l(t.productions.data,(function(e,o){return r("b-card",{key:o,staticClass:"shadow",attrs:{title:e.nameProduction}},[r("b-card-text",[r("p",[r("b",[t._v("Cantidad: ")]),t._v(t._s(e.quantityProduction))]),r("p",[r("b",[t._v("Costo total: ")]),t._v(t._s(t._f("formatPen")(e.totalCostProduction)))]),r("small",[t._v(" "+t._s(t.$moment(e.created_at).format("L LTS"))+" ")]),r("div",{staticClass:"mt-1",staticStyle:{"white-space":"nowrap"}},[r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-primary"},on:{click:function(r){return t.viewDetails(e.idProductions)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Ver detalles",expression:"'Ver detalles'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"EyeIcon"}})],1),r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-warning"},on:{click:function(r){return t.update(e.idProductions)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Actualizar producción",expression:"'Actualizar producción'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"EditIcon"}})],1),r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-danger"},on:{click:function(r){return t.remove(e.idProductions)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Eliminar producción",expression:"'Eliminar producción'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"TrashIcon"}})],1)],1)])],1)})),1)},d=[],l={props:{productions:{type:Object,required:!0}},methods:{viewDetails:function(t){this.$emit("onViewDetails",t)},update:function(t){this.$emit("onUpdate",t)},remove:function(t){this.$emit("onDelete",t)}}},p=l,m=(r("6d5e"),r("2877")),b=Object(m["a"])(p,u,d,!1,null,"2e4ad42e",null),f=b.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-table",{staticClass:"text-center",attrs:{responsive:"",hover:"",small:"","show-empty":"","empty-text":"No hay datos para mostrar",fields:t.table.fields,items:t.productions.data},scopedSlots:t._u([{key:"cell(totalCostProduction)",fn:function(e){return[r("span",{staticStyle:{"white-space":"nowrap"}},[t._v(" "+t._s(t._f("formatPen")(e.item.totalCostProduction))+" ")])]}},{key:"cell(created_at)",fn:function(e){return[r("small",{staticClass:"text-nowrap"},[t._v(" "+t._s(t.$moment(e.item.created_at).format("L LTS"))+" ")])]}},{key:"cell(actions)",fn:function(e){return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-primary"},on:{click:function(r){return t.viewDetails(e.item.idProduction)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Ver detalles",expression:"'Ver detalles'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"EyeIcon"}})],1),r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-warning"},on:{click:function(r){return t.update(e.item.idProduction)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Actualizar producción",expression:"'Actualizar producción'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"EditIcon"}})],1),r("b-button",{staticClass:"btn-icon",attrs:{size:"sm",variant:"flat-danger"},on:{click:function(r){return t.remove(e.item.idProduction)}}},[r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",value:"Eliminar producción",expression:"'Eliminar producción'",modifiers:{hover:!0,bottom:!0}}],attrs:{icon:"TrashIcon"}})],1)],1)]}}])})},h=[],w={props:{table:{type:Object,required:!0},productions:{type:Object,required:!0}},methods:{viewDetails:function(t){this.$emit("onViewDetails",t)},update:function(t){this.$emit("onUpdate",t)},remove:function(t){this.$emit("onDelete",t)}}},P=w,y=Object(m["a"])(P,v,h,!1,null,null,null),_=y.exports,x={components:{CardGroupProductions:f,TableProductions:_},data:function(){return{typeGridView:"",table:{fields:s},productions:{data:[]}}},computed:Object(a["a"])({},Object(c["c"])({currentUser:"authentication/currentUser"})),methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])({A_GET_PRODUCTIONS:"custProduction/A_GET_PRODUCTIONS"})),{},{getGridView:function(){this.typeGridView=localStorage.getItem("customerProductionView"),null==this.typeGridView&&this.setGridView("table")},setGridView:function(t){this.typeGridView=t,localStorage.setItem("customerProductionView",t)},redirectToRegisterProduction:function(){this.$router.push({name:"app-customer-productions-register"})},redirectToUpdateProduction:function(t){this.$router.push({name:"app-customer-productions-update",params:{id:t}})},redirectToViewDetails:function(t){this.$router.push({name:"app-customer-productions-details",params:{id:t}})},getProductions:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.addPreloader(),e.next=4,t.A_GET_PRODUCTIONS({page:0,size:100,sortDir:"asc",sort:"idProduction"});case 4:r=e.sent,200==r.status&&(t.productions.data=r.data),t.removePreloader(),e.next=14;break;case 9:throw e.prev=9,e.t0=e["catch"](0),t.removePreloader(),t.showErrorToast({text:e.t0}),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteProduction:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.showGenericConfirmSwal({});case 3:if(o=r.sent,!o.value){r.next=13;break}return e.addPreloader(),r.next=8,e.A_DELETE_PRODUCTION(t);case 8:if(i=r.sent,200!=i.status){r.next=12;break}return r.next=12,e.getProductions();case 12:e.removePreloader();case 13:r.next=20;break;case 15:throw r.prev=15,r.t0=r["catch"](0),e.removePreloader(),e.showErrorToast({text:r.t0}),r.t0;case 20:case"end":return r.stop()}}),r,null,[[0,15]])})))()}}),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getGridView();case 2:return e.next=4,t.getProductions();case 4:case"end":return e.stop()}}),e)})))()}},C=x,k=Object(m["a"])(C,o,i,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-34db2404.b9e079fd.js.map