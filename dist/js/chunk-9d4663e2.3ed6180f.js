(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d4663e2"],{"070d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cont-list",style:e.images.length<3?"":"overflow-y: scroll; height: 238px;"},[a("label",{staticStyle:{width:"100%"},attrs:{for:e.source},on:{click:e.isSingle}},[a("div",{staticClass:"uploader",class:{dragging:e.isDragging,"border-danger":e.errorDrag},on:{dragenter:e.OnDragEnter,dragleave:e.OnDragLeave,dragover:function(e){e.preventDefault()},drop:e.onDrop}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.images.length,expression:"!images.length"}]},[a("feather-icon",{staticClass:"mb-2 mt-2",attrs:{icon:"FileIcon",size:"70",alt:""}}),a("p",{staticClass:"roboto-class drag-text"},[e._v("Arrastra tus archivos aquÃ­")]),a("div",{staticClass:"file-input"},[a("div",{staticClass:"file-input roboto-class",staticStyle:{"font-weight":"bold","font-size":"20px"}},[e._v(" o seleccione un archivo ")]),a("input",{attrs:{id:e.source,type:"file",accept:e.image?"image/png, image/jpeg":"*",multiple:!e.single},on:{change:e.onInputChange}})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.images.length,expression:"images.length"}],staticClass:"images-preview d-flex justify-content-center",staticStyle:{"margin-top":"0px"},attrs:{for:e.source}},e._l(e.images,(function(t,r){return a("div",{key:r,staticClass:"img-wrapper mr-1"},[a("b-img",{attrs:{src:e.$options.filters.extFile(e.files[r].name.split(".").pop())}}),a("div",{staticClass:"details"},[a("span",{staticClass:"name",domProps:{textContent:e._s(e.files[r].name.substr(0,10))}}),a("span",{staticClass:"size",domProps:{textContent:e._s(e.getFileSize(e.files[r].size))}}),a("button",{staticClass:"button-delete-file",on:{click:function(t){return e.removeFile(t,r)}}},[e._v(" x ")])])],1)})),0)])])])},s=[],n=a("ade3"),i=(a("d3b7"),a("159b"),a("a630"),a("3ca3"),a("99af"),a("a434"),{name:"DragAndDrop",props:{filesArray:Array,single:Boolean,image:Boolean,errorDrag:{type:Boolean,default:!1},source:{type:String,default:"file"}},data:function(){var e;return e={images:[],disable:{upload:!1},errorFile:!1,files:[]},Object(n["a"])(e,"disable",{upload:!1}),Object(n["a"])(e,"folder_id",""),Object(n["a"])(e,"sendto",""),Object(n["a"])(e,"responsable",""),Object(n["a"])(e,"result",""),Object(n["a"])(e,"isDragging",!1),Object(n["a"])(e,"dragCount",0),e},mounted:function(){var e=this;Array.from(this.filesArray).forEach((function(t){return e.addImage(t)}))},methods:{addImage:function(e){var t=this;this.files.push(e);new Image;var a=new FileReader;a.onload=function(e){return t.images.push(e.target.result)},a.readAsDataURL(e)},onInputChange:function(e){var t=this,a=e.target.files;Array.from(a).forEach((function(e){return t.addImage(e)})),this.$emit("input",this.files)},getFileSize:function(e){var t=["Bytes","KB","MB","GB"],a=0;while(e>900)e/=1024,a++;return"".concat(Math.round(100*e)/100," ").concat(t[a])},removeFile:function(e,t){e.preventDefault(),this.files.splice(t,1),this.images.splice(t,1),this.$emit("input",this.files)},OnDragEnter:function(e){return e.preventDefault(),this.dragCount++,this.isDragging=!0,!1},OnDragLeave:function(e){e.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},onDrop:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.isDragging=!1;var a=e.dataTransfer.files;Array.from(a).forEach((function(e){return t.addImage(e)})),this.$emit("input",this.files)},isSingle:function(e){this.images.length>0&&this.single&&e.preventDefault()}}}),o=i,c=(a("5dbf"),a("2877")),l=Object(c["a"])(o,r,s,!1,null,"0866cbe3",null);t["a"]=l.exports},"11c7":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Subir imagen","title-tag":"h3","hide-footer":""},on:{hide:e.close},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("drag-and-drop",{attrs:{single:!0,"files-array":e.form.files},model:{value:e.form.files,callback:function(t){e.$set(e.form,"files",t)},expression:"form.files"}}),a("b-container",{staticClass:"mt-1 text-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){return e.close(!1)}}},[e._v(" Cancelar ")]),a("b-button",{attrs:{submit:"",variant:"primary"},on:{click:e.uploadImage}},[a("feather-icon",{staticClass:"mr-50",attrs:{icon:"SaveIcon"}}),e._v(" Guardar ")],1)],1)],1)},s=[],n=a("1da1"),i=a("5530"),o=(a("96cf"),a("d3b7"),a("25f0"),a("2f62")),c=a("070d"),l={props:{registerCode:{type:String}},components:{DragAndDrop:c["a"]},data:function(){return{show:!1,form:{files:[]}}},computed:Object(i["a"])({},Object(o["c"])({currentUser:"authentication/currentUser"})),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])({A_UPLOAD_IMAGE_BY_ID:"images/A_UPLOAD_IMAGE_BY_ID",A_UPLOAD_IMAGE_TO_HOSTING:"images/A_UPLOAD_IMAGE_TO_HOSTING"})),{},{uploadImage:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.form.files.length>0)){t.next=13;break}return e.addPreloader(),t.next=5,e.A_UPLOAD_IMAGE_TO_HOSTING(e.form.files[0]);case 5:if(a=t.sent,200!=a.status){t.next=12;break}return r={typeImage:e.registerCode,urlImage:a.data.url,created_at:(new Date).toString(),created_by:e.currentUser.idUsuario},t.next=10,e.A_UPLOAD_IMAGE_BY_ID(r);case 10:s=t.sent,201==s.status&&(e.showGenericToast({type:"register"}),e.close(!0));case 12:e.removePreloader();case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](0),e.removePreloader(),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){this.show=!0}},u=l,d=a("2877"),m=Object(d["a"])(u,r,s,!1,null,null,null);t["a"]=m.exports},"25f0":function(e,t,a){"use strict";var r=a("6eeb"),s=a("825a"),n=a("d039"),i=a("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&r(RegExp.prototype,o,(function(){var e=s(this),t=String(e.source),a=e.flags,r=String(void 0===a&&e instanceof RegExp&&!("flags"in c)?i.call(e):a);return"/"+t+"/"+r}),{unsafe:!0})},"362d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header-slot"),a("b-card",[a("b-row",[a("b-col",{attrs:{md:"4"}},[a("b-carousel",{staticStyle:{height:"250px","overflow-y":"hidden"},attrs:{id:"carousel-example-generic",controls:"",indicators:""}},e._l(e.images,(function(e,t){return a("b-carousel-slide",{key:t,attrs:{"img-src":e.urlImage}})})),1),a("p",{staticClass:"pt-1"},[e._v(" "+e._s(e.$moment(e.fabric.created_at).format("L LTS"))+" ")])],1),a("b-col",{attrs:{md:"8"}},[a("h2",[e._v(e._s(e.fabric.nameFabric))]),a("p",[e._v(" "+e._s(e.fabric.descriptionFabric)+" ")]),a("hr"),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Composicion de la Tela ")])]),a("p",[e._v(e._s(e.fabric.composition))])]),a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Ancho de la Tela ")])]),a("p",[e._v(e._s(e.fabric.widthFabric))])]),a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Metros x Kg ")])]),a("p",[e._v(e._s(e.fabric.meters_x_Kg))])]),a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Precio ")])]),a("p",[e._v(e._s(e._f("formatPen")(e.fabric.priceFabric)))])]),a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Color de la Tela ")])]),a("p",[e._v("#4e41b4")])]),a("b-col",{attrs:{md:"6"}},[a("h5",[a("b",[e._v(" Tension ")])]),a("p",[e._v(e._s(e.fabric.tension))])]),a("b-col",{staticClass:"mt-1",attrs:{cols:"12"}},[a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.openModalUploadImages}},[e._v(" Cargar fotos ")]),a("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.redirectToUpdateFabric}},[e._v(" Editar tela ")]),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:e.deleteFabric}},[e._v(" Eliminar tela ")])],1)],1)],1)],1)],1),a("b-row",{staticClass:"card-group"},[a("b-col",{attrs:{cols:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("b-card-title",[a("feather-icon",{staticClass:"mr-50",attrs:{icon:"UsersIcon",size:"18"}}),e._v(" Clientes ")],1)]},proxy:!0}])},[a("b-container")],1)],1)],1),e.showModalUploadImages?a("modal-upload-images",{attrs:{"register-code":e.idParam},on:{onClose:e.closeModalUploadImages}}):e._e()],1)},s=[],n=a("1da1"),i=a("5530"),o=(a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("2f62")),c=a("11c7"),l={components:{ModalUploadImages:c["a"]},data:function(){return{fabric:{},images:[],showModalUploadImages:!1}},computed:{idParam:function(){return this.$route.params.id}},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])({A_GET_FABRIC_BY_ID:"provMyPostsFabrics/A_GET_FABRIC_BY_ID",A_DELETE_FABRIC:"provMyPostsFabrics/A_DELETE_FABRIC",A_GET_IMAGES_BY_ID:"images/A_GET_IMAGES_BY_ID"})),{},{redirectToUpdateFabric:function(e){this.$router.push({name:"app-provider-my-posts-fabrics-update",params:{from:"d",id:this.idParam}})},openModalUploadImages:function(){this.showModalUploadImages=!0},closeModalUploadImages:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=3;break}return a.next=3,t.getFabricImages();case 3:t.showModalUploadImages=!1;case 4:case"end":return a.stop()}}),a)})))()},getFabric:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_FABRIC_BY_ID(e.idParam);case 4:a=t.sent,200==a.status&&(e.fabric=a.data),e.removePreloader(),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getFabricImages:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.A_GET_IMAGES_BY_ID(e.idParam);case 3:a=t.sent,200==a.status&&(e.images=a.data),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteFabric:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.showGenericConfirmSwal({});case 3:if(a=t.sent,!a.value){t.next=9;break}return t.next=7,e.A_DELETE_FABRIC(e.idParam);case 7:r=t.sent,200==r.status&&(e.showGenericToast({type:"delete"}),e.$router.push({name:"app-provider-my-posts-fabrics"}));case 9:t.next=16;break;case 11:throw t.prev=11,t.t0=t["catch"](0),ths.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}),created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.getFabric(),e.getFabricImages()]);case 2:case"end":return t.stop()}}),t)})))()}},u=l,d=(a("d0e3"),a("2877")),m=Object(d["a"])(u,r,s,!1,null,null,null);t["default"]=m.exports},"5dbf":function(e,t,a){"use strict";a("9092")},9092:function(e,t,a){},d0e3:function(e,t,a){"use strict";a("d24d")},d24d:function(e,t,a){}}]);
//# sourceMappingURL=chunk-9d4663e2.3ed6180f.js.map