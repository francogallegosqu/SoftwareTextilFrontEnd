(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a36e277"],{"070d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cont-list",style:e.images.length<3?"":"overflow-y: scroll; height: 238px;"},[r("label",{staticStyle:{width:"100%"},attrs:{for:e.source},on:{click:e.isSingle}},[r("div",{staticClass:"uploader",class:{dragging:e.isDragging,"border-danger":e.errorDrag},on:{dragenter:e.OnDragEnter,dragleave:e.OnDragLeave,dragover:function(e){e.preventDefault()},drop:e.onDrop}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.images.length,expression:"!images.length"}]},[r("feather-icon",{staticClass:"mb-2 mt-2",attrs:{icon:"FileIcon",size:"70",alt:""}}),r("p",{staticClass:"roboto-class drag-text"},[e._v("Arrastra tus archivos aquÃ­")]),r("div",{staticClass:"file-input"},[r("div",{staticClass:"file-input roboto-class",staticStyle:{"font-weight":"bold","font-size":"20px"}},[e._v(" o seleccione un archivo ")]),r("input",{attrs:{id:e.source,type:"file",accept:e.image?"image/png, image/jpeg":"*",multiple:!e.single},on:{change:e.onInputChange}})])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.images.length,expression:"images.length"}],staticClass:"images-preview d-flex justify-content-center",staticStyle:{"margin-top":"0px"},attrs:{for:e.source}},e._l(e.images,(function(t,a){return r("div",{key:a,staticClass:"img-wrapper mr-1"},[r("b-img",{attrs:{src:e.$options.filters.extFile(e.files[a].name.split(".").pop())}}),r("div",{staticClass:"details"},[r("span",{staticClass:"name",domProps:{textContent:e._s(e.files[a].name.substr(0,10))}}),r("span",{staticClass:"size",domProps:{textContent:e._s(e.getFileSize(e.files[a].size))}}),r("button",{staticClass:"button-delete-file",on:{click:function(t){return e.removeFile(t,a)}}},[e._v(" x ")])])],1)})),0)])])])},s=[],n=r("ade3"),o=(r("d3b7"),r("159b"),r("a630"),r("3ca3"),r("99af"),r("a434"),{name:"DragAndDrop",props:{filesArray:Array,single:Boolean,image:Boolean,errorDrag:{type:Boolean,default:!1},source:{type:String,default:"file"}},data:function(){var e;return e={images:[],disable:{upload:!1},errorFile:!1,files:[]},Object(n["a"])(e,"disable",{upload:!1}),Object(n["a"])(e,"folder_id",""),Object(n["a"])(e,"sendto",""),Object(n["a"])(e,"responsable",""),Object(n["a"])(e,"result",""),Object(n["a"])(e,"isDragging",!1),Object(n["a"])(e,"dragCount",0),e},mounted:function(){var e=this;Array.from(this.filesArray).forEach((function(t){return e.addImage(t)}))},methods:{addImage:function(e){var t=this;this.files.push(e);new Image;var r=new FileReader;r.onload=function(e){return t.images.push(e.target.result)},r.readAsDataURL(e)},onInputChange:function(e){var t=this,r=e.target.files;Array.from(r).forEach((function(e){return t.addImage(e)})),this.$emit("input",this.files)},getFileSize:function(e){var t=["Bytes","KB","MB","GB"],r=0;while(e>900)e/=1024,r++;return"".concat(Math.round(100*e)/100," ").concat(t[r])},removeFile:function(e,t){e.preventDefault(),this.files.splice(t,1),this.images.splice(t,1),this.$emit("input",this.files)},OnDragEnter:function(e){return e.preventDefault(),this.dragCount++,this.isDragging=!0,!1},OnDragLeave:function(e){e.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},onDrop:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.isDragging=!1;var r=e.dataTransfer.files;Array.from(r).forEach((function(e){return t.addImage(e)})),this.$emit("input",this.files)},isSingle:function(e){this.images.length>0&&this.single&&e.preventDefault()}}}),i=o,c=(r("5dbf"),r("2877")),l=Object(c["a"])(i,a,s,!1,null,"0866cbe3",null);t["a"]=l.exports},"11c7":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Subir imagen","title-tag":"h3","hide-footer":""},on:{hide:e.close},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("drag-and-drop",{attrs:{single:!0,"files-array":e.form.files},model:{value:e.form.files,callback:function(t){e.$set(e.form,"files",t)},expression:"form.files"}}),r("b-container",{staticClass:"mt-1 text-center"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){return e.close(!1)}}},[e._v(" Cancelar ")]),r("b-button",{attrs:{submit:"",variant:"primary"},on:{click:e.uploadImage}},[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"SaveIcon"}}),e._v(" Guardar ")],1)],1)],1)},s=[],n=r("1da1"),o=r("5530"),i=(r("96cf"),r("d3b7"),r("25f0"),r("2f62")),c=r("070d"),l={props:{registerCode:{type:String}},components:{DragAndDrop:c["a"]},data:function(){return{show:!1,form:{files:[]}}},computed:Object(o["a"])({},Object(i["c"])({currentUser:"authentication/currentUser"})),methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({A_UPLOAD_IMAGE_BY_ID:"images/A_UPLOAD_IMAGE_BY_ID",A_UPLOAD_IMAGE_TO_HOSTING:"images/A_UPLOAD_IMAGE_TO_HOSTING"})),{},{uploadImage:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.form.files.length>0)){t.next=13;break}return e.addPreloader(),t.next=5,e.A_UPLOAD_IMAGE_TO_HOSTING(e.form.files[0]);case 5:if(r=t.sent,200!=r.status){t.next=12;break}return a={typeImage:e.registerCode,urlImage:r.data.url,created_at:(new Date).toString(),created_by:e.currentUser.idUsuario},t.next=10,e.A_UPLOAD_IMAGE_BY_ID(a);case 10:s=t.sent,201==s.status&&(e.showGenericToast({type:"register"}),e.close(!0));case 12:e.removePreloader();case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](0),e.removePreloader(),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){this.show=!0}},u=l,d=r("2877"),p=Object(d["a"])(u,a,s,!1,null,null,null);t["a"]=p.exports},"25f0":function(e,t,r){"use strict";var a=r("6eeb"),s=r("825a"),n=r("d039"),o=r("ad6d"),i="toString",c=RegExp.prototype,l=c[i],u=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&a(RegExp.prototype,i,(function(){var e=s(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?o.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},"5dbf":function(e,t,r){"use strict";r("9092")},6946:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-slot"),r("b-card",[r("b-row",[r("b-col",{attrs:{md:"4"}},[r("b-carousel",{staticStyle:{height:"250px",overflow:"hidden"},attrs:{id:"carousel-example-generic",controls:"",indicators:""}},e._l(e.images,(function(e,t){return r("b-carousel-slide",{key:t,attrs:{"img-src":e.urlImage}})})),1),r("p",{staticClass:"pt-1"},[e._v(" "+e._s(e.$moment(e.accessory.created_at).format("L LTS"))+" ")])],1),r("b-col",{attrs:{md:"8"}},[r("h2",[e._v(e._s(e.accessory.nameAccessory))]),r("p",[e._v(" "+e._s(e.accessory.descriptionAccessory)+" ")]),r("hr"),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v(" Precio ")])]),r("p",[e._v(e._s(e._f("formatPen")(e.accessory.priceAccesory)))])]),r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v(" Color de la Tela ")])]),r("div",{style:"width: 100px; height: 30px; border-radius: 7px; background:"+e.accessory.colorAccessory})]),r("b-col",{staticClass:"mt-1",attrs:{cols:"12"}},[r("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.openModalUploadImages}},[e._v(" Cargar fotos ")]),r("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.redirectToUpdateAccessory}},[e._v(" Editar avio ")]),r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.deleteAccesory(1)}}},[e._v(" Eliminar avio ")])],1)],1)],1)],1)],1),r("b-row",{staticClass:"card-group"},[r("b-col",{attrs:{cols:"12"}},[r("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[r("b-card-title",[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"UsersIcon",size:"18"}}),e._v(" Clientes ")],1)]},proxy:!0}])},[r("b-container")],1)],1)],1),e.showModalUploadImages?r("modal-upload-images",{attrs:{"register-code":e.accessoryId},on:{onClose:e.closeModalUploadImages}}):e._e()],1)},s=[],n=r("1da1"),o=r("5530"),i=(r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("2f62")),c=r("11c7"),l={components:{ModalUploadImages:c["a"]},data:function(){return{accessory:{},images:[],showModalUploadImages:!1}},computed:{accessoryId:function(){return this.$route.params.id}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({A_GET_ACCESSORY:"provMyPostsAccessories/A_GET_ACCESSORY",A_GET_IMAGES_BY_ID:"images/A_GET_IMAGES_BY_ID"})),{},{redirectToUpdateAccessory:function(){this.$router.push({name:"app-provider-my-posts-accessories-update",params:{from:"d",id:this.accessoryId}})},openModalUploadImages:function(){this.showModalUploadImages=!0},closeModalUploadImages:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=5;break}return t.addPreloader(),r.next=4,t.getAccessoryImages();case 4:t.removePreloader();case 5:t.showModalUploadImages=!1;case 6:case"end":return r.stop()}}),r)})))()},getAccessory:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_ACCESSORY(e.accessoryId);case 4:r=t.sent,200==r.status&&(e.accessory=r.data),e.removePreloader(),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getAccessoryImages:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.A_GET_IMAGES_BY_ID(e.accessoryId);case 3:r=t.sent,200==r.status&&(e.images=r.data),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteAccesory:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.showGenericConfirmSwal({});case 3:if(a=r.sent,!a.value){r.next=11;break}return t.addPreloader(),r.next=8,t.A_DELETE_ACCESSORY(e);case 8:s=r.sent,200==s.status&&(t.showGenericToast({type:"delete"}),t.$router.push({name:"app-provider-my-posts-accessories"})),t.removePreloader();case 11:r.next=17;break;case 13:throw r.prev=13,r.t0=r["catch"](0),t.removePreloader(),r.t0;case 17:case"end":return r.stop()}}),r,null,[[0,13]])})))()}}),created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.getAccessory(),e.getAccessoryImages()]);case 2:case"end":return t.stop()}}),t)})))()}},u=l,d=(r("6edf"),r("2877")),p=Object(d["a"])(u,a,s,!1,null,null,null);t["default"]=p.exports},"6edf":function(e,t,r){"use strict";r("ed66")},9092:function(e,t,r){},ed66:function(e,t,r){}}]);
//# sourceMappingURL=chunk-0a36e277.3e163fe4.js.map