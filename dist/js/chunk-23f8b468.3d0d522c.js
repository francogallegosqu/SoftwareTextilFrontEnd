(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23f8b468"],{"25f0":function(e,t,r){"use strict";var o=r("6eeb"),a=r("825a"),c=r("d039"),n=r("ad6d"),s="toString",i=RegExp.prototype,l=i[s],u=c((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=s;(u||d)&&o(RegExp.prototype,s,(function(){var e=a(this),t=String(e.source),r=e.flags,o=String(void 0===r&&e instanceof RegExp&&!("flags"in i)?n.call(e):r);return"/"+t+"/"+o}),{unsafe:!0})},4307:function(e,t,r){"use strict";r("e8cb")},d0e0:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-slot"),r("b-row",{staticClass:"card-group"},[r("b-col",{attrs:{cols:"12"}},[r("card-information",{attrs:{production:e.production}})],1),r("b-col",{attrs:{md:"6"}},[r("card-fabrics")],1),r("b-col",{attrs:{md:"6"}},[r("card-accessories")],1),r("b-col",{attrs:{md:"12"}},[r("card-services")],1)],1)],1)},a=[],c=r("1da1"),n=r("5530"),s=(r("96cf"),r("2f62")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[r("b-card-title",[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"BookOpenIcon",size:"18"}}),e._v(" "+e._s(e.production.nameProduction)+" ")],1)]},proxy:!0}])},[r("b-row",[r("b-col",{attrs:{cols:"4"}}),r("b-col",{attrs:{cols:"5"}},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v("Cantidad")])]),r("p",[e._v(e._s(e.production.quantityProduction))])]),r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v("Total costo de producción")])]),r("p",[e._v(e._s(e._f("formatPen")(e.production.totalCostProduction)))])]),r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v("Fit")])]),r("p",[e._v(e._s(e.production.fit.nameFit))])]),r("b-col",{attrs:{md:"6"}},[r("h5",[r("b",[e._v("Categoria")])]),r("p",[e._v(e._s(e.production.subcategory.nameCategory))])])],1)],1)],1)],1)},l=[],u={props:{production:{type:Object,required:!0}}},d=u,b=r("2877"),m=Object(b["a"])(d,i,l,!1,null,null,null),p=m.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{"body-class":"px-0"},scopedSlots:e._u([{key:"header",fn:function(){return[r("b-card-title",[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"CodepenIcon",size:"18"}}),e._v(" Telas ")],1),r("b-button-group",{staticClass:"btn-group-sm"},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"outline-primary"},on:{click:e.openModalAddFabric}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Agregar tela ")],1)],1)]},proxy:!0}])},[r("div",[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"fabric",label:"Tela"},{key:"cant",label:"Cantidad"},{key:"totalCost",label:"Costo total"},{key:"actions",label:"Acciones"}]}})],1),e.showModalAddFabric?r("modal-add-fabric",{on:{onClose:e.closeModalAddFabric}}):e._e()],1)},v=[],h=r("e009"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Agregar Tela","title-tag":"h3",size:"lg","hide-footer":""},on:{hide:function(t){return e.close(!1)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"float-right my-1",attrs:{variant:"outline-primary",block:""},on:{click:e.openModalSelectFabrics}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Seleccionar Tela ")],1)],1)],1),r("b-row",{staticClass:"mt-1"},[r("b-col",{attrs:{cols:"8"}},[r("b-form-group",{attrs:{label:"Tela"}},[r("b-form-input",{attrs:{readonly:""}})],1)],1),r("b-col",{attrs:{cols:"4"}},[r("b-form-group",{attrs:{label:"Precio"}},[r("b-form-input",{attrs:{type:"number",readonly:""}})],1)],1),r("b-col",{attrs:{cols:"12"}},[r("b-form-group",{attrs:{label:"Unidad"}},[r("b-form-input",{attrs:{disabled:""==e.form.nameFabric}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Cantidad"}},[r("b-form-input",{attrs:{disabled:""==e.form.nameFabric,type:"number"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Precio total"}},[r("b-form-input",{attrs:{type:"number",readonly:""}})],1)],1)],1),r("b-container",{staticClass:"mt-2 text-center"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){return e.close(!1)}}},[e._v(" Cerrar ")]),r("b-button",{attrs:{submit:"",variant:"primary"},on:{click:e.addProductionFabric}},[r("feather-icon",{attrs:{icon:"SaveIcon"}}),e._v(" Guardar ")],1)],1),e.showModalSelectFabrics?r("modal-select-fabrics",{on:{onSelectItem:e.selectFabric,onClose:e.closeModalSelectFabrics}}):e._e()],1)},_=[],g=(r("d3b7"),r("25f0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Seleccionar Tela","title-tag":"h3",size:"lg","hide-footer":"","body-class":"px-0"},on:{hide:e.close},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"nameFabric",label:"Nombre"},{key:"priceFabric",label:"Precio"},{key:"actions",label:"Acciones"}],items:e.fabrics.data},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(r){return e.selectFabric(t.item)}}},[e._v(" Seleccionar ")])]}}])})],1)}),w=[],y={props:{},data:function(){return{show:!1,fabrics:{data:[]}}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_FABRICS_PAGINATE:"provMyPostsFabrics/A_GET_FABRICS_PAGINATE"})),{},{getFabrics:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_FABRICS_PAGINATE({params:{pageNo:0,pageSize:100,sortDir:"asc",sortField:"idFabric"},page:1});case 4:r=t.sent,200==r.status&&(console.log(r.data["com.anderson.textil.model.Fabric@4624d882"].content),e.fabrics.data=r.data["com.anderson.textil.model.Fabric@4624d882"].content),e.removePreloader(),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},selectFabric:function(e){this.$emit("onSelectItem",e)},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.show=!0,t.next=3,e.getFabrics();case 3:case"end":return t.stop()}}),t)})))()}},A=y,x=Object(b["a"])(A,g,w,!1,null,null,null),C=x.exports,O={props:{},components:{ModalSelectFabrics:C},directives:{Ripple:h["a"]},data:function(){return{show:!1,form:{nameFabric:"",unitPriceFabric:"",unitFabric:"",quantityFabric:"",priceFabric:"",created_at:(new Date).toString(),created_by:"",idProduction:"",idFabric:""},showModalSelectFabrics:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])({currentUser:"authentication/currentUser"})),{},{productionId:function(){return this.$route.params.id}}),methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_REGISTER_PRODUCTION_FABRIC:"custProduction/A_REGISTER_PRODUCTION_FABRIC"})),{},{openModalSelectFabrics:function(){this.showModalSelectFabrics=!0},closeModalSelectFabrics:function(){this.showModalSelectFabrics=!1},selectFabric:function(e){this.form.idFabric=e.idFabric,this.form.nameFabric=e.nameFabric,this.form.unitPriceFabric=e.priceFabric},addProductionFabric:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!=e.form.idFabric){t.next=3;break}return t.abrupt("return",e.showErrorToast({text:"Debes seleccionar una tela"}));case 3:return t.next=5,e.$refs.form.validate();case 5:if(r=t.sent,!r){t.next=19;break}return t.next=9,e.showGenericConfirmSwal({});case 9:if(o=t.sent,!o.value){t.next=19;break}return e.addPreloader(),e.form.idProduction=e.productionId,e.form.created_by=e.currentUser.idUsuario,t.next=16,e.A_REGISTER_PRODUCTION_FABRIC(e.form);case 16:a=t.sent,201==a.status&&(e.showGenericToast({type:"register"}),e.close(!0)),e.removePreloader();case 19:t.next=26;break;case 21:throw t.prev=21,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 26:case"end":return t.stop()}}),t,null,[[0,21]])})))()},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){this.show=!0}},P=O,k=Object(b["a"])(P,S,_,!1,null,null,null),R=k.exports,E={components:{ModalAddFabric:R},directives:{Ripple:h["a"]},data:function(){return{showModalAddFabric:!1}},methods:{openModalAddFabric:function(){this.showModalAddFabric=!0},closeModalAddFabric:function(){this.showModalAddFabric=!1}}},I=E,T=Object(b["a"])(I,f,v,!1,null,null,null),j=T.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{"body-class":"px-0"},scopedSlots:e._u([{key:"header",fn:function(){return[r("b-card-title",[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"CommandIcon",size:"18"}}),e._v(" Avíos ")],1),r("b-button-group",{staticClass:"btn-group-sm"},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"outline-primary"},on:{click:e.openModalAddAccessory}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Agregar avío ")],1)],1)]},proxy:!0}])},[r("div",[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"accessory",label:"Avío"},{key:"cant",label:"Cantidad"},{key:"totalCost",label:"Costo total"},{key:"actions",label:"Acciones"}]}})],1),e.showModalAddAccessory?r("modal-add-accessory",{on:{onClose:e.closeModalAddAccessory}}):e._e()],1)},M=[],G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Agregar Avío","title-tag":"h3",size:"lg","hide-footer":""},on:{hide:function(t){return e.close(!1)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"float-right my-1",attrs:{variant:"outline-primary",block:""},on:{click:e.openModalSelectAccessories}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Seleccionar Avío ")],1)],1)],1),r("ValidationObserver",{ref:"form"},[r("b-row",{staticClass:"mt-1"},[r("b-col",{attrs:{cols:"8"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Avío",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{readonly:"",value:e.form.nameAccessory,state:!(o.length>0)&&null}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes seleccionar un avio ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"4"}},[r("b-form-group",{attrs:{label:"Precio"}},[r("b-input-group",{attrs:{prepend:"S./"}},[r("b-form-input",{attrs:{type:"number",readonly:"",value:e.form.unitPriceAccessory}})],1)],1)],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Unidad",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{state:!(o.length>0)&&null},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes ingresar la unidad ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Cantidad",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{type:"number",disabled:""==e.form.nameAccessory,state:!(o.length>0)&&null},model:{value:e.form.quantityAccesory,callback:function(t){e.$set(e.form,"quantityAccesory",t)},expression:"form.quantityAccesory"}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes ingresar la cantidad ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Precio total"}},[r("b-input-group",{attrs:{prepend:"S./"}},[r("b-form-input",{attrs:{type:"number",readonly:"",value:e.form.priceAccesory}})],1)],1)],1)],1)],1),r("b-container",{staticClass:"mt-2 text-center"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){return e.close(!1)}}},[e._v(" Cerrar ")]),r("b-button",{attrs:{submit:"",variant:"primary"},on:{click:e.addProductionFabric}},[r("feather-icon",{attrs:{icon:"SaveIcon"}}),e._v(" Guardar ")],1)],1),e.showModalSelectAccessories?r("modal-select-accessories",{on:{onSelectItem:e.selectAccessory,onClose:e.closeModalSelectAccessories}}):e._e()],1)},D=[],U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Seleccionar Avío","title-tag":"h3",size:"lg","hide-footer":"","body-class":"px-0"},on:{hide:e.close},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"nameAccessory",label:"Nombre"},{key:"priceAccesory",label:"Precio"},{key:"actions",label:"Acciones"}],items:e.accessories.data},scopedSlots:e._u([{key:"cell(priceAccesory)",fn:function(t){return[r("p",[e._v(e._s(e._f("formatPen")(t.item.priceAccesory)))])]}},{key:"cell(actions)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(r){return e.selectAccesory(t.item)}}},[e._v(" Seleccionar ")])]}}])})],1)},$=[],N={props:{},data:function(){return{show:!1,accessories:{data:[]}}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_ACCESSORIES:"provMyPostsAccessories/A_GET_ACCESSORIES"})),{},{getAccessories:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_ACCESSORIES({page:0,size:100,sortDir:"asc",sort:"idAccessory"});case 4:r=t.sent,200==r.status&&(e.accessories.data=r.data),e.removePreloader(),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},selectAccesory:function(e){this.$emit("onSelectItem",e),this.close(!0)},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.show=!0,t.next=3,e.getAccessories();case 3:case"end":return t.stop()}}),t)})))()}},z=N,q=Object(b["a"])(z,U,$,!1,null,null,null),V=q.exports,B={components:{ModalSelectAccessories:V},directives:{Ripple:h["a"]},data:function(){return{show:!1,form:{nameAccessory:"",unitPriceAccessory:"",unit:"",quantityAccesory:"",priceAccesory:"",created_at:(new Date).toString(),created_by:"",idProduction:"",idAccessory:""},showModalSelectAccessories:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])({currentUser:"authentication/currentUser"})),{},{productionId:function(){return this.$route.params.id}}),watch:{"form.quantityAccesory":function(e){""!=e&&(this.form.priceAccesory=e*this.form.unitPriceAccessory)}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_REGISTER_PRODUCTION_ACCESSORY:"custProduction/A_REGISTER_PRODUCTION_ACCESSORY"})),{},{openModalSelectAccessories:function(){this.showModalSelectAccessories=!0},closeModalSelectAccessories:function(){this.showModalSelectAccessories=!1},selectAccessory:function(e){this.form.idAccessory=e.idAccessory,this.form.nameAccessory=e.nameAccessory,this.form.unitPriceAccessory=e.priceAccesory},addProductionFabric:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.form.validate();case 3:if(r=t.sent,!r){t.next=17;break}return t.next=7,e.showGenericConfirmSwal({});case 7:if(o=t.sent,!o.value){t.next=17;break}return e.addPreloader(),e.form.idProduction=e.productionId,e.form.created_by=e.currentUser.idUsuario,t.next=14,e.A_REGISTER_PRODUCTION_ACCESSORY(e.form);case 14:a=t.sent,201==a.status&&(e.showGenericToast({type:"register"}),e.close(!0)),e.removePreloader();case 17:t.next=24;break;case 19:throw t.prev=19,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 24:case"end":return t.stop()}}),t,null,[[0,19]])})))()},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){this.show=!0}},Y=B,J=Object(b["a"])(Y,G,D,!1,null,null,null),H=J.exports,K={components:{ModalAddAccessory:H},directives:{Ripple:h["a"]},data:function(){return{accessories:{data:[]},showModalAddAccessory:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_PRODUCTION_ACCESSORIES:"custProduction/A_GET_PRODUCTION_ACCESSORIES"})),{},{openModalAddAccessory:function(){this.showModalAddAccessory=!0},closeModalAddAccessory:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=3;break}return r.next=3,t.getProductionAccessories();case 3:t.showModalAddAccessory=!1;case 4:case"end":return r.stop()}}),r)})))()},getProductionAccessories:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_PRODUCTION_ACCESSORIES({});case 4:r=t.sent,200==r.status&&(e.accessories.data=r.data),e.removePreloader(),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProductionAccessories();case 2:case"end":return t.stop()}}),t)})))()}},L=K,Q=Object(b["a"])(L,F,M,!1,null,null,null),W=Q.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{"body-class":"px-0"},scopedSlots:e._u([{key:"header",fn:function(){return[r("b-card-title",[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"FeatherIcon",size:"18"}}),e._v(" Servicios ")],1),r("b-button-group",{staticClass:"btn-group-sm"},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"outline-primary"},on:{click:e.openModalAddService}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Agregar servicio ")],1)],1)]},proxy:!0}])},[r("div",[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"service",label:"Servicio"},{key:"cant",label:"Cantidad"},{key:"totalCost",label:"Costo total"},{key:"actions",label:"Acciones"}]}})],1),e.showModalAddService?r("modal-add-service",{on:{onClose:e.closeModalAddService}}):e._e()],1)},Z=[],ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Agregar Servicio","title-tag":"h3",size:"lg","hide-footer":""},on:{hide:function(t){return e.close(!1)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticClass:"float-right my-1",attrs:{variant:"outline-primary",block:""},on:{click:e.openModalSelectServices}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"14"}}),e._v(" Seleccionar Servicio ")],1)],1)],1),r("ValidationObserver",{ref:"form"},[r("b-row",{staticClass:"mt-1"},[r("b-col",{attrs:{cols:"8"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Servicio",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{readonly:"",value:e.form.nameService,state:!(o.length>0)&&null}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes seleccionar un servicio ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"4"}},[r("b-form-group",{attrs:{label:"Precio"}},[r("b-input-group",{attrs:{prepend:"S./"}},[r("b-form-input",{attrs:{type:"number",readonly:"",value:e.form.unitPriceService}})],1)],1)],1),r("b-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Unidad",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{state:!(o.length>0)&&null},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes ingresar la unidad ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("b-form-group",{attrs:{label:"Cantidad",state:!(o.length>0)&&null}},[r("b-form-input",{attrs:{type:"number",disabled:""==e.form.nameService,state:!(o.length>0)&&null},model:{value:e.form.quantityService,callback:function(t){e.$set(e.form,"quantityService",t)},expression:"form.quantityService"}}),o[0]?r("small",{staticClass:"text-danger"},[e._v(" Debes ingresar la cantidad ")]):e._e()],1)]}}])})],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Precio total"}},[r("b-input-group",{attrs:{prepend:"S./"}},[r("b-form-input",{attrs:{type:"number",readonly:""},model:{value:e.form.priceService,callback:function(t){e.$set(e.form,"priceService",t)},expression:"form.priceService"}})],1)],1)],1)],1)],1),r("b-container",{staticClass:"mt-2 text-center"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"secondary"},on:{click:function(t){return e.close(!1)}}},[e._v(" Cerrar ")]),r("b-button",{attrs:{submit:"",variant:"primary"},on:{click:e.addProductionService}},[r("feather-icon",{attrs:{icon:"SaveIcon"}}),e._v(" Guardar ")],1)],1),e.showModalSelectServices?r("modal-select-services",{on:{onSelectItem:e.selectService,onClose:e.closeModalSelectFabrics}}):e._e()],1)},te=[],re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","no-close-on-esc":"",title:"Seleccionar Servicio","title-tag":"h3",size:"lg","hide-footer":"","body-class":"px-0"},on:{hide:function(t){return e.close(!1)}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("b-table",{staticClass:"text-center",attrs:{small:"",fields:[{key:"nameService",label:"Nombre"},{key:"priceService",label:"Precio"},{key:"actions",label:"Acciones"}],items:e.services.data},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){return[r("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(r){return e.selectService(t.item)}}},[e._v(" Seleccionar ")])]}}])},[r("Template",{scopedSlots:e._u([{key:"cell(priceService)",fn:function(t){return[r("p",[e._v(e._s(e._f("formatPen")(t.item.priceService)))])]}}])})],1)],1)},oe=[],ae={props:{},data:function(){return{show:!1,services:{data:[]}}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_SERVICES:"provMyPostsServices/A_GET_SERVICES"})),{},{getFabrics:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_SERVICES({page:0,size:100,sortDir:"asc",sort:"idService"});case 4:r=t.sent,200==r.status&&(e.services.data=r.data),e.removePreloader(),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},selectService:function(e){this.$emit("onSelectItem",e),this.close(!0)},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.show=!0,t.next=3,e.getFabrics();case 3:case"end":return t.stop()}}),t)})))()}},ce=ae,ne=Object(b["a"])(ce,re,oe,!1,null,null,null),se=ne.exports,ie={props:{},components:{ModalSelectServices:se},directives:{Ripple:h["a"]},data:function(){return{show:!1,form:{nameService:"",unitPriceService:"",priceService:"",quantityService:"",unit:"",idProduction:"",idService:"",created_at:(new Date).toString(),created_by:""},showModalSelectServices:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])({currentUser:"authentication/currentUser"})),{},{productionId:function(){return this.$route.params.id}}),watch:{"form.quantityService":function(e){""!=this.form.quantityService&&(this.form.priceService=e*this.form.unitPriceService)}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_REGISTER_PRODUCTION_SERVICE:"custProduction/A_REGISTER_PRODUCTION_SERVICE"})),{},{openModalSelectServices:function(){this.showModalSelectServices=!0},closeModalSelectFabrics:function(){this.showModalSelectServices=!1},selectService:function(e){this.form.idService=e.idService,this.form.nameService=e.nameService,this.form.unitPriceService=e.priceService},addProductionService:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.form.validate();case 3:if(r=t.sent,!r){t.next=17;break}return t.next=7,e.showGenericConfirmSwal({});case 7:if(o=t.sent,!o.value){t.next=17;break}return e.addPreloader(),e.form.idProduction=e.productionId,e.form.created_by=e.currentUser.idUsuario,t.next=14,e.A_REGISTER_PRODUCTION_SERVICE(e.form);case 14:a=t.sent,201==a.status&&(e.showGenericToast({type:"register"}),e.close(!0)),e.removePreloader();case 17:t.next=24;break;case 19:throw t.prev=19,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 24:case"end":return t.stop()}}),t,null,[[0,19]])})))()},close:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("onClose",e)}}),created:function(){this.show=!0}},le=ie,ue=Object(b["a"])(le,ee,te,!1,null,null,null),de=ue.exports,be={components:{ModalAddService:de},directives:{Ripple:h["a"]},data:function(){return{services:{data:[]},showModalAddService:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_PRODUCTION_SERVICES:"custProduction/A_GET_PRODUCTION_SERVICES"})),{},{openModalAddService:function(){this.showModalAddService=!0},closeModalAddService:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!services){e.next=3;break}return e.next=3,t.getProductionServices();case 3:t.showModalAddService=!1;case 4:case"end":return e.stop()}}),e)})))()},getProductionServices:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,t.next=8;break;case 3:throw t.prev=3,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,3]])})))()}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProductionServices();case 2:case"end":return t.stop()}}),t)})))()}},me=be,pe=Object(b["a"])(me,X,Z,!1,null,null,null),fe=pe.exports,ve={components:{CardInformation:p,CardFabrics:j,CardAccessories:W,CardServices:fe},data:function(){return{production:{}}},computed:{productionId:function(){return this.$route.params.id}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({A_GET_PRODUCTION_BY_ID:"custProduction/A_GET_PRODUCTION_BY_ID"})),{},{getProduction:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addPreloader(),t.next=4,e.A_GET_PRODUCTION_BY_ID(e.productionId);case 4:r=t.sent,200==r.status&&(e.production=r.data),e.removePreloader(),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](0),e.removePreloader(),e.showErrorToast({text:t.t0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProduction();case 2:console.log(e.productionId);case 3:case"end":return t.stop()}}),t)})))()}},he=ve,Se=(r("4307"),Object(b["a"])(he,o,a,!1,null,null,null));t["default"]=Se.exports},e8cb:function(e,t,r){}}]);
//# sourceMappingURL=chunk-23f8b468.3d0d522c.js.map